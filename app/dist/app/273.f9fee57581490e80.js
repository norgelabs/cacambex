"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[273],{5273:(L,h,m)=>{m.r(h),m.d(h,{CacambasModule:()=>K});var d=m(9808),y=m(9627),a=m(5e3),s=m(3075),b=m(7423),u=m(9224),p=m(6992),C=m(4204),v=m(5245),Z=m(7531),g=m(2181),x=m(6087),f=m(9814),U=m(4847),c=m(6346),z=m(2454),N=m(3083),T=m(8555),_=m(1086),M=m(7545),E=m(7796);let A=(()=>{class t{constructor(e){this.x=e,this.visualizarCacamba={},this.novaCacamba={},this.alterarCacamba={},this.titulo="Nova ca\xe7amba",this.desabilitarVolume=!1}ngOnInit(){this.x&&(this.desabilitarVolume=!0,this.titulo="Editar Ca\xe7amba",this.visualizarCacamba.numero=this.x.numero,this.visualizarCacamba.volume=this.x.volume,this.visualizarCacamba.preco=this.x.preco)}data(){return this.x?(this.alterarCacamba.id=this.x.id,this.alterarCacamba.numero=this.visualizarCacamba.numero,this.alterarCacamba.volume=this.visualizarCacamba.volume,this.alterarCacamba.preco=this.visualizarCacamba.preco,this.alterarCacamba):(this.novaCacamba.numero=this.visualizarCacamba.numero,this.novaCacamba.volume=this.visualizarCacamba.volume,this.novaCacamba.preco=this.visualizarCacamba.preco,this.novaCacamba)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(p.WI))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ng-component"]],decls:35,vars:7,consts:[[1,"principal"],["form","ngForm"],["appearance","legacy"],["type","text","matInput","","placeholder","Ex. 99","name","numero","required","",3,"ngModel","ngModelChange"],["name","volume","required","",3,"ngModel","disabled","ngModelChange"],["value","3M\xb3"],[1,"mat-elevation-z2"],["mat-card-sm-image","","src","assets/cacamba.png"],["value","5M\xb3"],["type","number","matInput","","placeholder","Utilize virgura para separa centavos.","name","preco","required","",3,"ngModel","ngModelChange"],["matPrefix",""],["mat-raised-button","","type","submit",1,"btn-primario",3,"mat-dialog-close","disabled"]],template:function(e,o){if(1&e&&(a.TgZ(0,"form",0,1)(2,"h3"),a._uU(3),a.qZA(),a.TgZ(4,"mat-form-field",2)(5,"mat-label"),a._uU(6,"N\xfamero"),a.qZA(),a.TgZ(7,"input",3),a.NdJ("ngModelChange",function(r){return o.visualizarCacamba.numero=r}),a.qZA()(),a.TgZ(8,"mat-radio-group",4),a.NdJ("ngModelChange",function(r){return o.visualizarCacamba.volume=r}),a.TgZ(9,"mat-label"),a._uU(10,"Volume"),a.qZA(),a.TgZ(11,"mat-radio-button",5)(12,"mat-card",6)(13,"mat-card-title-group"),a._UZ(14,"img",7),a.TgZ(15,"mat-card-subtitle"),a._uU(16,"Ca\xe7amba pequena"),a.qZA(),a.TgZ(17,"mat-card-subtitle"),a._uU(18,"Volume: 3M\xb3"),a.qZA()()()(),a.TgZ(19,"mat-radio-button",8)(20,"mat-card",6)(21,"mat-card-title-group"),a._UZ(22,"img",7),a.TgZ(23,"mat-card-subtitle"),a._uU(24,"Ca\xe7amba pequena"),a.qZA(),a.TgZ(25,"mat-card-subtitle"),a._uU(26,"Volume: 5M\xb3"),a.qZA()()()()(),a.TgZ(27,"mat-form-field",2)(28,"mat-label"),a._uU(29,"Pre\xe7o"),a.qZA(),a.TgZ(30,"input",9),a.NdJ("ngModelChange",function(r){return o.visualizarCacamba.preco=r}),a.qZA(),a.TgZ(31,"span",10),a._uU(32,"R$ \xa0"),a.qZA()(),a.TgZ(33,"button",11),a._uU(34," Salvar "),a.qZA()()),2&e){const i=a.MAs(1);a.xp6(3),a.Oqu(o.titulo),a.xp6(4),a.Q6J("ngModel",o.visualizarCacamba.numero),a.xp6(1),a.Q6J("ngModel",o.visualizarCacamba.volume)("disabled",o.desabilitarVolume),a.xp6(22),a.Q6J("ngModel",o.visualizarCacamba.preco),a.xp6(3),a.Q6J("mat-dialog-close",o.data())("disabled",!i.valid)}},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.F,C.KE,C.hX,C.qo,Z.Nt,f.VQ,f.U0,p.ZT,b.lW,u.a8,u.C1,u.$j,u.vP],styles:[".principal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}mat-icon[_ngcontent-%COMP%]{color:var(--text-color-1)}"]}),t})();var J=m(6641),B=m(1415),O=m(976);function S(t,n){1&t&&(a.TgZ(0,"th",17),a._uU(1,"N\xfamero"),a.qZA())}function Q(t,n){if(1&t&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&t){const e=n.$implicit;a.xp6(1),a.Oqu(e.numero)}}function Y(t,n){1&t&&(a.TgZ(0,"th",17),a._uU(1,"Volume"),a.qZA())}function P(t,n){if(1&t&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&t){const e=n.$implicit;a.xp6(1),a.Oqu(e.volume)}}function R(t,n){1&t&&(a.TgZ(0,"th",17),a._uU(1,"Pre\xe7o"),a.qZA())}function D(t,n){if(1&t&&(a.TgZ(0,"td",18),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&t){const e=n.$implicit;a.xp6(1),a.Oqu(a.lcZ(2,1,e.preco))}}function F(t,n){1&t&&(a.TgZ(0,"th",17),a._uU(1,"Status"),a.qZA())}function q(t,n){if(1&t&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&t){const e=n.$implicit;a.xp6(1),a.hij(" ",1==e.status?"Dispon\xedvel":"Alocado"," ")}}function I(t,n){1&t&&a._UZ(0,"th",17)}function V(t,n){if(1&t){const e=a.EpF();a.TgZ(0,"td",18)(1,"button",19)(2,"mat-icon"),a._uU(3,"more_vert"),a.qZA()(),a.TgZ(4,"mat-menu",null,20)(6,"button",21),a.NdJ("click",function(){const r=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l.alterarCacamba(r))}),a.TgZ(7,"mat-icon",22),a._uU(8,"edit"),a.qZA(),a.TgZ(9,"span"),a._uU(10,"Alterar"),a.qZA()(),a.TgZ(11,"button",23),a.NdJ("click",function(){const r=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l.excluirCacamba(r))}),a.TgZ(12,"mat-icon",24),a._uU(13,"delete"),a.qZA(),a.TgZ(14,"span"),a._uU(15,"Excluir"),a.qZA()()()()}if(2&t){const e=a.MAs(5);a.xp6(1),a.Q6J("matMenuTriggerFor",e)}}function j(t,n){1&t&&a._UZ(0,"tr",25)}function w(t,n){1&t&&a._UZ(0,"tr",26)}function $(t,n){if(1&t&&(a.TgZ(0,"table",7),a.ynx(1,8),a.YNc(2,S,2,0,"th",9),a.YNc(3,Q,2,1,"td",10),a.BQk(),a.ynx(4,11),a.YNc(5,Y,2,0,"th",9),a.YNc(6,P,2,1,"td",10),a.BQk(),a.ynx(7,12),a.YNc(8,R,2,0,"th",9),a.YNc(9,D,3,3,"td",10),a.BQk(),a.ynx(10,13),a.YNc(11,F,2,0,"th",9),a.YNc(12,q,2,1,"td",10),a.BQk(),a.ynx(13,14),a.YNc(14,I,1,0,"th",9),a.YNc(15,V,16,1,"td",10),a.BQk(),a.YNc(16,j,1,0,"tr",15),a.YNc(17,w,1,0,"tr",16),a.qZA()),2&t){const e=a.oxw();a.Q6J("dataSource",e.dataSource.data),a.xp6(16),a.Q6J("matHeaderRowDef",e.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",e.displayedColumns)}}function H(t,n){1&t&&(a.TgZ(0,"div",27),a._uU(1,"Carregando ca\xe7ambas..."),a.qZA())}const W=function(){return[5,10,25,100]},G=[{path:"",component:(()=>{class t{constructor(e,o,i){this.snackBar=e,this.servicoCacamba=o,this.dialog=i,this.displayedColumns=["numero","volume","preco","status","acao"],this.dataSource={},this.carregando=!0,this.dataSource.data=[]}ngOnInit(){this.obterCacambas()}obterCacambas(e=0,o=10,i="",r=""){this.carregando=!0,this.servicoCacamba.obter(e,o,i,r).subscribe(l=>{this.dataSource=l,this.carregando=!1},l=>{this.carregando=!0})}novaCacamba(){this.dialog.open(A,{width:"400px"}).afterClosed().pipe((0,M.w)(o=>null==o?(0,_.of)():(this.snackBar.mostrarMensagem("Processando..."),this.servicoCacamba.criar(o)))).subscribe(o=>{this.obterCacambas(),this.snackBar.mostrarMensagem("Ca\xe7amba criada com sucesso.")},o=>{console.log(o),o.error.mensagem&&this.snackBar.mostrarMensagem(o.error.mensagem,!0)})}alterarCacamba(e){this.dialog.open(A,{width:"400px",data:e}).afterClosed().pipe((0,M.w)(i=>null==i?(0,_.of)():(this.snackBar.mostrarMensagem("Processando..."),this.servicoCacamba.alterar(i)))).subscribe(i=>{this.obterCacambas(),this.snackBar.mostrarMensagem("Ca\xe7amba alterada com sucesso.")},i=>{this.snackBar.mostrarMensagem(i.error.mensagem,!0)})}excluirCacamba(e){this.dialog.open(E.Z,{width:"250px",data:{titulo:"a ca\xe7amba",identificador:e.numero}}).afterClosed().subscribe(i=>{i&&this.servicoCacamba.excluir(e.id).subscribe(()=>{this.obterCacambasComFiltros(),this.snackBar.mostrarMensagem("Ca\xe7amba exclu\xedda com sucesso.")})})}mudarPagina(e){this.obterCacambas(e.pageIndex,e.pageSize)}mudarFiltro(e,o){this.obterCacambas(0,10,e,o)}obterCacambasComFiltros(){this.obterCacambas(0,10,"","")}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(J.Y),a.Y36(B.k),a.Y36(p.uw))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ng-component"]],decls:8,vars:8,consts:[[1,"conteudo"],[1,"cabecalho"],["titulo","Ca\xe7ambas",3,"desabilitado","novoEventoAbrir"],[1,"conteudo-tabela","mat-elevation-z1"],["mat-table","",3,"dataSource",4,"ngIf","ngIfElse"],["aria-label","Select page",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["carregandoCacambas",""],["mat-table","",3,"dataSource"],["matColumnDef","numero"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","volume"],["matColumnDef","preco"],["matColumnDef","status"],["matColumnDef","acao"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["color","primary"],["mat-menu-item","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""],[1,"mat-title"]],template:function(e,o){if(1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"ca-cabecalho",2),a.NdJ("novoEventoAbrir",function(){return o.novaCacamba()}),a.qZA()(),a.TgZ(3,"div",3),a.YNc(4,$,18,3,"table",4),a.TgZ(5,"mat-paginator",5),a.NdJ("page",function(r){return o.mudarPagina(r)}),a.qZA()()(),a.YNc(6,H,2,0,"ng-template",null,6,a.W1O)),2&e){const i=a.MAs(7);a.xp6(2),a.Q6J("desabilitado",!1),a.xp6(2),a.Q6J("ngIf",!o.carregando)("ngIfElse",i),a.xp6(1),a.Q6J("length",o.dataSource.totalCount)("pageSize",o.dataSource.pageSize)("pageIndex",o.dataSource.pageIndex)("pageSizeOptions",a.DdM(7,W))}},dependencies:[d.O5,v.Hw,b.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,g.VK,g.OP,g.p6,x.NW,O.v,d.H9],styles:[".conteudo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;height:calc(100% - 100px);padding:20px 0 10px}.cabecalho[_ngcontent-%COMP%]{width:100%}.conteudo-tabela[_ngcontent-%COMP%]{margin-top:10px}table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-title[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})()},{path:"",pathMatch:"full",redirectTo:""}];let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[T.Bz.forChild(G),T.Bz]}),t})();(0,d.qS)(y.Z);const k={validation:!1};let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[{provide:a.soG,useValue:"pt-BR"},{provide:a.EJc,useValue:"BRL"}],imports:[d.ez,s.u5,X,C.lN,Z.c,v.Ps,f.Fk,p.Is,b.ot,c.p0,U.JX,g.Tx,x.TU,N.G,z.yI.forRoot(k),u.QW]}),t})()}}]);